{% extends 'base-wall.html' %}
{% load static %}
{% block content %}

<style>
    #profile_photo
    {
    width: 200px;
    height: 200px;
    margin-bottom: 10px;
    margin-left: -10px;
    border-radius: 100px;
    
    }

    #profile_background
    {
    width: 100%;
    height: 200px;
    margin-bottom: -100px;
    margin-left: 10px;
    border-radius: 10px;
    float:left;
    }
</style>
    <h1>
        {% if profile.background %}
              <img id="profile_background" src={{profile.background.url}}>
        {% else %}
              <img id="profile_background" src="https://wallpapercave.com/wp/wp7264190.jpg"/>
        {% endif %}

        {% if profile.photo %}
              <img id="profile_photo" src={{profile.photo.url}}>
        {% else %}
              <img id="profile_photo" src="https://image.flaticon.com/icons/png/512/149/149071.png"/>
        {% endif %}
    </h1>
    <h1>{{profile.username}}</h1>
    <h6>{{profile.first_name}} {{profile.last_name}}</h6>
    <h6>Email: {{profile.email}}</h6>
    <h6>Joined: {{profile.joined}}</h6>
    <h6>Followers: {{profile.followers}} Following: {{profile.following}}</h6>
    <h6>Friends: {{profile.friends}}</h6>
    <h6>Posts: {{profile.posts}}</h6>
    {% if user != profile and user.is_authenticated %}
        {% if is_followed %}
            <form action="{% url 'unfollow_url' username=profile.username %}" method="POST">
                {% csrf_token %}
                <button type="submit" class="btn btn-primary">Unfollow</button>
            </form> 
        {% else %}
            <form action="{% url 'follow_url' username=profile.username %}" method="POST">
                {% csrf_token %}
                <button type="submit" class="btn btn-primary">Follow</button>
            </form> 
        {% endif %}
        

        {% if is_friend %}
            <button>Unfriend</button>
            <form action="{% url 'remove_friend_url' username=profile.username %}" method="POST">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger">Unfriend</button>
            </form> 
        {% else %}
            {% if is_requested %}
                <button class="btn btn-danger">Remove request</button>
                <form action="{% url 'remove_request_url' username=profile.username %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger">Remove request</button>
                </form> 
            {% elif am_i_requested %}
                <form action="{% url 'accept_request_url' username=profile.username %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-success">Accept request</button>
                </form> 
            {% else %}
                <form action="{% url 'send_request_url' username=profile.username %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary">Send request</button>
                </form> 
            {% endif %}
        {% endif %}
    {% else %}
    {% endif %}


{% endblock %}